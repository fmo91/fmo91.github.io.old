<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.5f81339daa9828444137.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-191cc9f50f3b76b9617cb383f19acb7d.woff2) format("woff2"),url(/static/montserrat-latin-100-370318464551d5f25b0f0a78f374faac.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-bdeaeb79db315697bd173a55b097dc18.woff2) format("woff2"),url(/static/montserrat-latin-100italic-ecf7d49386e8f265878e735db34a7c4b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-85d5ef9db7f2dc6979172a4a3b2c57cb.woff2) format("woff2"),url(/static/montserrat-latin-200-1fc98e126a3d152549240e6244d7e669.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-49095760a498d024fe1a85a078850df9.woff2) format("woff2"),url(/static/montserrat-latin-200italic-fe46cf8b9462c820457d3bf537e4057f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-7c3daf12b706645b5d3710f863a4da04.woff2) format("woff2"),url(/static/montserrat-latin-300-8dc95fab9cf98d02ca8d76e97d3dff60.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-f20b178ca2024a5eac8e42e6649db86c.woff2) format("woff2"),url(/static/montserrat-latin-300italic-3fe16939288856e8e828fa2661bf2354.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/static/montserrat-latin-400-8102c4838f9e3d08dad644290a9cb701.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-5cad650422a7184467af5a4d17b264c4.woff2) format("woff2"),url(/static/montserrat-latin-400italic-d191f22af3bb50902b99ac577f81a322.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-92d16e458625f4d2c8940f6bdca0ff09.woff2) format("woff2"),url(/static/montserrat-latin-500-8b763220218ffc11c57c84ddb80e7b26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-47bfcca6b69d6a9acca7a8bff17193e2.woff2) format("woff2"),url(/static/montserrat-latin-500italic-72c01f753c3940c0b9cb6bf2389caddf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-6fb1b5623e528e27c18658fecf5ee0ee.woff2) format("woff2"),url(/static/montserrat-latin-600-7c839d15a6f54e7025ba8c0c4b333e8f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-60789af1c9338ed1a9546722ec54b4f7.woff2) format("woff2"),url(/static/montserrat-latin-600italic-f3d4de8d0afb19e777c79032ce828e3d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-39d93cf678c740f9f6b2b1cfde34bee3.woff2) format("woff2"),url(/static/montserrat-latin-700-80f10bd382f0df1cd650fec59f3c9394.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-ba136d97b14e82284dd595e257f11c47.woff2) format("woff2"),url(/static/montserrat-latin-700italic-8c98142b425630821139c24bd1698700.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-b7018be9ed6cd94da8b6675b3a468c3b.woff2) format("woff2"),url(/static/montserrat-latin-800-9a9befcf50d64f9d2d19d8b1d1984add.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-540ffdd223d1a9ad3d4e678e1a23372e.woff2) format("woff2"),url(/static/montserrat-latin-800italic-897086f99f4e1f45e6b1e9368527d0bc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-58cd789700850375b834e8b6776002eb.woff2) format("woff2"),url(/static/montserrat-latin-900-26d42c9428780e545a540bbb50c84bce.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-451157bc8861fe54f523b3669a3def71.woff2) format("woff2"),url(/static/montserrat-latin-900italic-a8ec4957e1c24f5793305763ad9845b3.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}</style><meta name="generator" content="Gatsby 2.17.4"/><title data-react-helmet="true">Simple Dependency Injection using @propertyWrapper | fmo91</title><meta data-react-helmet="true" name="description" content="TL;DR  ::  Here is the gist. Dependency injection is critical to get a good-quality codebase. As misterious as it can sound, dependency…"/><meta data-react-helmet="true" property="og:title" content="Simple Dependency Injection using @propertyWrapper"/><meta data-react-helmet="true" property="og:description" content="TL;DR  ::  Here is the gist. Dependency injection is critical to get a good-quality codebase. As misterious as it can sound, dependency…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Fernando Martín Ortiz"/><meta data-react-helmet="true" name="twitter:title" content="Simple Dependency Injection using @propertyWrapper"/><meta data-react-helmet="true" name="twitter:description" content="TL;DR  ::  Here is the gist. Dependency injection is critical to get a good-quality codebase. As misterious as it can sound, dependency…"/><link as="script" rel="preload" href="/webpack-runtime-7aefa2b13306f23af876.js"/><link as="script" rel="preload" href="/styles-5f31e81ee0db447b5810.js"/><link as="script" rel="preload" href="/app-b7ee466c45e4212458dc.js"/><link as="script" rel="preload" href="/commons-25007d52a411329d6f8e.js"/><link as="script" rel="preload" href="/component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js-7fe7fe412755396ee50a.js"/><link as="fetch" rel="preload" href="/page-data/0002-dependency-injection-using-property-wrappers/page-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
        var mode = localStorage.getItem('theme-ui-color-mode');
        if (!mode) return
        document.body.classList.add('theme-ui-' + mode);
      } catch (e) {} })();</script><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><style data-emotion-css="j2qm01">body{--theme-ui-colors-text:var(--theme-ui-colors-text,#282c35);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#DF5C43);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#1B1F23);--theme-ui-colors-muted:var(--theme-ui-colors-muted,hsla(0,0%,0%,0.2));--theme-ui-colors-highlight:var(--theme-ui-colors-highlight,rgba(255,229,100,0.2));--theme-ui-colors-heading:var(--theme-ui-colors-heading,#282c35);--theme-ui-colors-prism-background:var(--theme-ui-colors-prism-background,#011627);--theme-ui-colors-prism-comment:var(--theme-ui-colors-prism-comment,#809393);--theme-ui-colors-prism-string:var(--theme-ui-colors-prism-string,#addb67);--theme-ui-colors-prism-var:var(--theme-ui-colors-prism-var,#d6deeb);--theme-ui-colors-prism-number:var(--theme-ui-colors-prism-number,#f78c6c);--theme-ui-colors-prism-constant:var(--theme-ui-colors-prism-constant,#82aaff);--theme-ui-colors-prism-punctuation:var(--theme-ui-colors-prism-punctuation,#c792ea);--theme-ui-colors-prism-className:var(--theme-ui-colors-prism-className,#ffc98b);--theme-ui-colors-prism-tag:var(--theme-ui-colors-prism-tag,#ffa7c4);--theme-ui-colors-prism-boolean:var(--theme-ui-colors-prism-boolean,#ff5874);--theme-ui-colors-prism-property:var(--theme-ui-colors-prism-property,#80cbc4);--theme-ui-colors-prism-namespace:var(--theme-ui-colors-prism-namespace,#b2ccd6);--theme-ui-colors-prism-highlight:var(--theme-ui-colors-prism-highlight,hsla(207,95%,15%,1));color:var(--theme-ui-colors-text,var(--theme-ui-colors-text,#282c35));background-color:var(--theme-ui-colors-background,var(--theme-ui-colors-background,#fff));}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,rgba(255,255,255,0.86));--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#282c35);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#DF5C43);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,rgba(255,255,255,0.86));--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,hsla(0,0%,100%,0.2));--theme-ui-colors-highlight:var(--theme-ui-colors-modes-dark-highlight,#DF5C43);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);}</style><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><style data-emotion-css="16mk19i">.css-16mk19i{font-family:'Merriweather','Georgia',serif;font-size:16px;font-weight:400;line-height:1.75;}</style><div class="css-16mk19i"><header><style data-emotion-css="nvo7eq">.css-nvo7eq{max-width:672px;margin-left:auto;margin-right:auto;padding-left:28px;padding-right:28px;padding-top:56px;}</style><div class="css-nvo7eq"><style data-emotion-css="1ixg8nk">.css-1ixg8nk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;margin-bottom:56px;}</style><div class="css-1ixg8nk"><style data-emotion-css="1qd1r5f">.css-1qd1r5f{margin-top:0;margin-bottom:0;}</style><style data-emotion-css="9ngr65">.css-9ngr65{padding:0;margin:0;margin-bottom:28px;font-size:23.08319849451542px;font-family:Montserrat,sans-serif;line-height:1.1;font-weight:900;margin-top:0;margin-bottom:0;}</style><p class="css-9ngr65"><style data-emotion-css="1hlsgh3">.css-1hlsgh3{box-shadow:none;-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-primary,#DF5C43);}</style><style data-emotion-css="h9xe1w">.css-h9xe1w{color:var(--theme-ui-colors-primary,#DF5C43);box-shadow:none;-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-primary,#DF5C43);}</style><a class="css-h9xe1w" href="/">fmo91</a></p><style data-emotion-css="1qzfsby">.css-1qzfsby{background-color:black;}</style><style data-emotion-css="2qin3q">.css-2qin3q{background-color:var(--theme-ui-colors-primary,#DF5C43);background-color:black;}</style><div class="css-2qin3q" style="position:relative;display:inline-block;text-align:left;opacity:1;direction:ltr;border-radius:12px;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s;touch-action:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none"><div class="react-switch-bg" style="height:24px;width:48px;margin:0;position:relative;background:#000000;border-radius:12px;cursor:pointer;-webkit-transition:background 0.25s;-moz-transition:background 0.25s;transition:background 0.25s"><div style="height:24px;width:25px;position:relative;opacity:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><style data-emotion-css="cpnst2">.css-cpnst2{pointer-events:none;margin:4px;}</style><img alt="moon indicating dark mode" src="data:image/png;base64,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" width="16" height="16" role="presentation" class="css-cpnst2"/></div><div style="height:24px;width:25px;position:absolute;opacity:1;right:0;top:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><img alt="sun indicating light mode" src="data:image/png;base64,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" width="16" height="16" role="presentation" class="css-cpnst2"/></div></div><div class="react-switch-handle" style="height:24px;width:24px;background:#ffffff;display:inline-block;cursor:pointer;border-radius:50%;position:absolute;transform:translateX(0px);top:0;outline:0;box-shadow:inset 0 0 0 1px #000;border:0;-webkit-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;-moz-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s"></div><input type="checkbox" role="switch" style="border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px" aria-label="Toggle dark mode"/></div></div></div></header><div><style data-emotion-css="1ewmu01">.css-1ewmu01{max-width:672px;margin-left:auto;margin-right:auto;padding-left:28px;padding-right:28px;padding-top:56px;padding-bottom:56px;}</style><div class="css-1ewmu01"><main><style data-emotion-css="11b9pc1">.css-11b9pc1{padding:0;margin:0;margin-bottom:28px;font-size:40px;font-family:Montserrat,sans-serif;line-height:1.1;font-weight:900;}</style><h1 class="css-11b9pc1">Simple Dependency Injection using @propertyWrapper</h1><style data-emotion-css="1qqxfhy">.css-1qqxfhy{font-size:13.32085131842997px;margin-top:-28px;margin-bottom:28px;}</style><style data-emotion-css="1m60b3c">.css-1m60b3c{padding:0;margin:0;margin-bottom:28px;font-size:13.32085131842997px;margin-top:-28px;margin-bottom:28px;}.css-1m60b3c code{font-size:inherit;}</style><p class="css-1m60b3c">November 02, 2019</p><style data-emotion-css="1dahk1j">.css-1dahk1j{padding:0;margin:0;margin-bottom:28px;margin-left:28px;margin-right:28px;color:inherit;border-left-color:inherit;opacity:0.8;}.css-1dahk1j.translation{font-size:1em;}</style><blockquote class="css-1dahk1j"><style data-emotion-css="1mv7wyt">.css-1mv7wyt{padding:0;margin:0;margin-bottom:28px;}.css-1mv7wyt code{font-size:inherit;}</style><p class="css-1mv7wyt"><style data-emotion-css="1vg6q84">.css-1vg6q84{font-weight:700;}</style><strong class="css-1vg6q84">TL;DR</strong> :: <style data-emotion-css="818hih">.css-818hih{color:var(--theme-ui-colors-primary,#DF5C43);}</style><a href="https://gist.github.com/fmo91/2d359f82569dda69002784a49486b3c8" class="css-818hih">Here is the gist.</a></p></blockquote><p class="css-1mv7wyt">Dependency injection is critical to get a good-quality codebase. As misterious as it can sound, dependency injection is central in software architecture.</p><p class="css-1mv7wyt">But, what is it exactly? Well, let’s explain it through an example. Let’s suppose we want to design a groceries store calculator. We want to sum all the products’ prices and then calculate the taxes to the sub-total. We’ll start with a module: <style data-emotion-css="1pnz7gf">.css-1pnz7gf{border-radius:0.3em;color:var(--theme-ui-colors-secondary,#1B1F23);background-color:var(--theme-ui-colors-highlight,rgba(255,229,100,0.2));padding-top:0.15em;padding-bottom:0.05em;padding-left:0.2em;padding-right:0.2em;}</style><code class="css-1pnz7gf">ProductsCalculator</code>, and a struct called <code class="css-1pnz7gf">Product</code>.</p><style data-emotion-css="w0h414">.css-w0h414{padding:28px;margin:0;margin-bottom:14px;font-size:85%;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;color:white;background-color:var(--theme-ui-colors-prism-background,#011627);overflow:auto;border-radius:10px;}.css-w0h414 .attr-name{font-style:italic;}.css-w0h414 .comment{color:var(--theme-ui-colors-prism-comment,#809393);}.css-w0h414 .attr-name,.css-w0h414 .string,.css-w0h414 .url{color:var(--theme-ui-colors-prism-string,#addb67);}.css-w0h414 .variable{color:var(--theme-ui-colors-prism-var,#d6deeb);}.css-w0h414 .number{color:var(--theme-ui-colors-prism-number,#f78c6c);}.css-w0h414 .builtin,.css-w0h414 .char,.css-w0h414 .constant,.css-w0h414 .function{color:var(--theme-ui-colors-prism-constant,#82aaff);}.css-w0h414 .punctuation,.css-w0h414 .selector,.css-w0h414 .doctype{color:var(--theme-ui-colors-prism-punctuation,#c792ea);}.css-w0h414 .class-name{color:var(--theme-ui-colors-prism-className,#ffc98b);}.css-w0h414 .tag,.css-w0h414 .operator,.css-w0h414 .keyword{color:var(--theme-ui-colors-prism-tag,#ffa7c4);}.css-w0h414 .boolean{color:var(--theme-ui-colors-prism-boolean,#ff5874);}.css-w0h414 .property{color:var(--theme-ui-colors-prism-property,#80cbc4);}.css-w0h414 .namespace{color:var(--theme-ui-colors-prism-namespace,#b2ccd6);}</style><style data-emotion-css="1cd8nnu">.css-1cd8nnu{margin-bottom:14px;}</style><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><style data-emotion-css="1baulvz">.css-1baulvz{display:inline-block;}</style><span class="token plain css-1baulvz">struct Product {</span></div><div class="token-line"><span class="token plain css-1baulvz">    // ...</span></div><div class="token-line"><span class="token plain css-1baulvz">    let price: Double</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">class ProductsCalculator {</span></div><div class="token-line"><span class="token plain css-1baulvz">    private var products: [Product] = []</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    func add(product: Product) {</span></div><div class="token-line"><span class="token plain css-1baulvz">        products.append(product)</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    func calculateTotal() -&gt; Double {</span></div><div class="token-line"><span class="token plain css-1baulvz">        let subtotal = products.map({ $0.price }).reduce(0, +)</span></div><div class="token-line"><span class="token plain css-1baulvz">        return applyTaxes(to: subtotal)</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    private func applyTaxes(to subtotal: Double) -&gt; Double {</span></div><div class="token-line"><span class="token plain css-1baulvz">        // Some weird taxes logic 😨</span></div><div class="token-line"><span class="token plain css-1baulvz">        subtotal * 1.21</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div></pre></div><p class="css-1mv7wyt">This can work for a simple use case. But real world scenarios are hardly ever that simple. Out there, in the real world, we will find really strange logics that will change over time, and we need to be prepared for them. And our most important tool for this, is a good software architecture. To get a good architecture, we will need to decouple the code a bit by splitting it into modules. And a good option here is to create a <code class="css-1pnz7gf">TaxesCalculator</code> object that can calculate the taxes to be applied. For example:</p><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><span class="token plain css-1baulvz">class TaxesCalculator {</span></div><div class="token-line"><span class="token plain css-1baulvz">    func applyTaxes(to subtotal: Double) -&gt; Double {</span></div><div class="token-line"><span class="token plain css-1baulvz">        // Some weird taxes logic 😨</span></div><div class="token-line"><span class="token plain css-1baulvz">        subtotal * 1.21</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">class ProductsCalculator {</span></div><div class="token-line"><span class="token plain css-1baulvz">    private let taxesCalculator = TaxesCalculator()</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    // ...</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    func calculateTotal() -&gt; Double {</span></div><div class="token-line"><span class="token plain css-1baulvz">        let subtotal = products.map({ $0.price }).reduce(0, +)</span></div><div class="token-line"><span class="token plain css-1baulvz">        return taxesCalculator.applyTaxes(to: subtotal)</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div></pre></div><p class="css-1mv7wyt">This way, we could change the code in <code class="css-1pnz7gf">TaxesCalculator</code> without modifying <code class="css-1pnz7gf">ProductsCalculator</code>. However, we can improve this design a lot. In first place, a good practice is to code against an interface and never against a concrete implementation. To apply this gold principle here, we would need to do something like this:</p><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><span class="token plain css-1baulvz">protocol TaxesCalculatorType {</span></div><div class="token-line"><span class="token plain css-1baulvz">    func applyTaxes(to subtotal: Double) -&gt; Double</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">class TaxesCalculatorA: TaxesCalculatorType {</span></div><div class="token-line"><span class="token plain css-1baulvz">    func applyTaxes(to subtotal: Double) -&gt; Double {</span></div><div class="token-line"><span class="token plain css-1baulvz">        // Some weird taxes logic 😨</span></div><div class="token-line"><span class="token plain css-1baulvz">        subtotal * 1.21</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">class TaxesCalculatorB: TaxesCalculatorType {</span></div><div class="token-line"><span class="token plain css-1baulvz">    func applyTaxes(to subtotal: Double) -&gt; Double {</span></div><div class="token-line"><span class="token plain css-1baulvz">        // Some weird taxes logic 😨</span></div><div class="token-line"><span class="token plain css-1baulvz">        subtotal * 1.41</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">class ProductsCalculator {</span></div><div class="token-line"><span class="token plain css-1baulvz">    private let taxesCalculator: TaxesCalculatorType = TaxesCalculatorA()</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    // ...</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    func calculateTotal() -&gt; Double {</span></div><div class="token-line"><span class="token plain css-1baulvz">        let subtotal = products.map({ $0.price }).reduce(0, +)</span></div><div class="token-line"><span class="token plain css-1baulvz">        return taxesCalculator.applyTaxes(to: subtotal)</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div></pre></div><p class="css-1mv7wyt">This way, we can vary the <code class="css-1pnz7gf">TaxesCalculatorType</code> we are using without affecting the internal logic in <code class="css-1pnz7gf">ProductsCalculator</code>. Each module knows only what is needs to know.</p><p class="css-1mv7wyt">This code still has an important failure in its design… We are still instantiating the <code class="css-1pnz7gf">TaxesCalculatorType</code> in the <code class="css-1pnz7gf">ProductsCalculator</code> class, so it still has a strong dependency on the concrete implementation. And now is when <code class="css-1pnz7gf">Dependency Injection</code> comes into the play.</p><p class="css-1mv7wyt">We will need to <code class="css-1pnz7gf">inject</code> the concrete <code class="css-1pnz7gf">TaxesCalculatorType</code> object in the <code class="css-1pnz7gf">ProductsCalculator</code>:</p><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><span class="token plain css-1baulvz">class ProductsCalculator {</span></div><div class="token-line"><span class="token plain css-1baulvz">    private let taxesCalculator: TaxesCalculatorType</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    // ...</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    init(taxesCalculator: TaxesCalculatorType) {</span></div><div class="token-line"><span class="token plain css-1baulvz">        self.taxesCalculator = taxesCalculator</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    func calculateTotal() -&gt; Double {</span></div><div class="token-line"><span class="token plain css-1baulvz">        let subtotal = products.map({ $0.price }).reduce(0, +)</span></div><div class="token-line"><span class="token plain css-1baulvz">        return taxesCalculator.applyTaxes(to: subtotal)</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div></pre></div><p class="css-1mv7wyt">By injecting the <code class="css-1pnz7gf">TaxesCalculatorType</code> in the constructor, we don’t have a dependency on the concrete implementation anymore.</p><p class="css-1mv7wyt">To generalize, when you have two modules A and B, A has a dependency on B if it calls a method from B, or has a reference for B, or knows something about B. Then, we have two possiblities, A can either know exactly how to create B, and how to use it, or we can <code class="css-1pnz7gf">inject</code> B into A. That’s what <code class="css-1pnz7gf">dependency injection</code> (<strong class="css-1vg6q84">DI</strong>) is about: Don’t letting a module know all about its dependencies, but giving it its dependencies from the outside. That way, we can give it different objects depedending on the context.</p><style data-emotion-css="psov1g">.css-psov1g{padding:0;margin:0;margin-bottom:28px;font-size:27.725793726205858px;font-family:Montserrat,sans-serif;line-height:1.1;font-weight:900;}</style><style data-emotion-css="1s5hb9t">.css-1s5hb9t{pointer-events:painted;padding:0;margin:0;margin-bottom:28px;font-size:27.725793726205858px;font-family:Montserrat,sans-serif;line-height:1.1;font-weight:900;}.css-1s5hb9t a{visibility:hidden;}.css-1s5hb9t:hover a{visibility:visible;}</style><h2 id="different-ways-to-inject-a-dependency" class="css-1s5hb9t"><style data-emotion-css="8kmsvv">.css-8kmsvv{margin-left:-20px;padding-right:4px;color:var(--theme-ui-colors-primary,#DF5C43);}</style><a href="#different-ways-to-inject-a-dependency" class="css-8kmsvv"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Different ways to inject a dependency.</h2><p class="css-1mv7wyt">The four most common ways to inject a dependency are:</p><style data-emotion-css="wf0k3i">.css-wf0k3i{padding:0;margin:0;margin-bottom:28px;list-style-position:outside;list-style-image:none;margin-left:28px;}</style><ol class="css-wf0k3i"><style data-emotion-css="ikjsr2">.css-ikjsr2{margin-bottom:14px;padding-left:0;}.css-ikjsr2 ol{margin-top:14px;margin-bottom:14px;margin-left:28px;}.css-ikjsr2 ul{margin-top:14px;margin-bottom:14px;margin-left:28px;}.css-ikjsr2 p{margin-bottom:14px;}.css-ikjsr2 code{font-size:inherit;}</style><li class="css-ikjsr2"><strong class="css-1vg6q84">Using a method/property</strong>: We pass the concrete implementation by calling a method or setting a property in the class. For example:</li></ol><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><span class="token plain css-1baulvz">class ProductsCalculator {</span></div><div class="token-line"><span class="token plain css-1baulvz">    // ...</span></div><div class="token-line"><span class="token plain css-1baulvz">    func calculateTotal(using taxesCalculator: TaxesCalculatorType) -&gt; Double {</span></div><div class="token-line"><span class="token plain css-1baulvz">        let subtotal = products.map({ $0.price }).reduce(0, +)</span></div><div class="token-line"><span class="token plain css-1baulvz">        return taxesCalculator.applyTaxes(to: subtotal)</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div></pre></div><ol start="2" class="css-wf0k3i"><li class="css-ikjsr2"><strong class="css-1vg6q84">Injecting in the constructor</strong>: We inject the dependency using the constructor, as seen in the first example.</li><li class="css-ikjsr2"><strong class="css-1vg6q84">Using a DI Container</strong>: This is more popular on other stacks (like Java, for example). We use a class called <code class="css-1pnz7gf">Container</code> to <code class="css-1pnz7gf">register</code> the dependencies at the beginning of the program, and then from the rest of the code we ask the <code class="css-1pnz7gf">Container</code> to <code class="css-1pnz7gf">resolve</code> which class should we use there.</li></ol><h2 id="property-wrappers" class="css-1s5hb9t"><a href="#property-wrappers" class="css-8kmsvv"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Property Wrappers</h2><p class="css-1mv7wyt">Enough with Dependency Injection. Let’s talk about the other important part of this article: <code class="css-1pnz7gf">Property Wrappers</code>.</p><p class="css-1mv7wyt"><code class="css-1pnz7gf">Property Wrappers</code> are a new addition in Swift 5. They let us “delegate” the access of a property to a struct that is annotated with <code class="css-1pnz7gf">@propertyWrapper</code>. Let’s explain it with an example before jumping into dependency injection again: We want to have an array that is always sorted by a specific criteria.</p><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><span class="token plain css-1baulvz">// @propertyWrapper annotation makes this</span></div><div class="token-line"><span class="token plain css-1baulvz">// struct a property wrapper.</span></div><div class="token-line"><span class="token plain css-1baulvz">// It will be a generic struct because we will make</span></div><div class="token-line"><span class="token plain css-1baulvz">// it work with any kind of value type.</span></div><div class="token-line"><span class="token plain css-1baulvz">@propertyWrapper</span></div><div class="token-line"><span class="token plain css-1baulvz">struct Sorted&lt;T&gt; {</span></div><div class="token-line"><span class="token plain css-1baulvz">    // Internally, we will store the actual value of</span></div><div class="token-line"><span class="token plain css-1baulvz">    // the array in this property</span></div><div class="token-line"><span class="token plain css-1baulvz">    private var value: [T]</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    // As we want to sort the array each time we introduce a new</span></div><div class="token-line"><span class="token plain css-1baulvz">    // value in it, we need to store the sort function.</span></div><div class="token-line"><span class="token plain css-1baulvz">    private let sortFunction: (T, T) -&gt; Bool</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    // The only requisite for a struct to be a propertyWrapper is this</span></div><div class="token-line"><span class="token plain css-1baulvz">    // computed property.</span></div><div class="token-line"><span class="token plain css-1baulvz">    // The wrappedValue property is accesible from the outside.</span></div><div class="token-line"><span class="token plain css-1baulvz">    // Each time we want to get the property value, the getter will</span></div><div class="token-line"><span class="token plain css-1baulvz">    // be called, and each time we want to set a value for this</span></div><div class="token-line"><span class="token plain css-1baulvz">    // property, its setter will be called.</span></div><div class="token-line"><span class="token plain css-1baulvz">    var wrappedValue: [T] {</span></div><div class="token-line"><span class="token plain css-1baulvz">        get { return value }</span></div><div class="token-line"><span class="token plain css-1baulvz">        set { value = newValue.sorted(by: sortFunction) }</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">    </span></div><div class="token-line"><span class="token plain css-1baulvz">    // In the init, we have the special argument `wrappedValue`,</span></div><div class="token-line"><span class="token plain css-1baulvz">    // that represents the initial assigned value</span></div><div class="token-line"><span class="token plain css-1baulvz">    // and we will also send a sortFunction that will be used for</span></div><div class="token-line"><span class="token plain css-1baulvz">    // sorting the array each time we add a new value to it.</span></div><div class="token-line"><span class="token plain css-1baulvz">    init(wrappedValue value: [T], by sortFunction: @escaping (T, T) -&gt; Bool) {</span></div><div class="token-line"><span class="token plain css-1baulvz">        self.sortFunction = sortFunction</span></div><div class="token-line"><span class="token plain css-1baulvz">        self.value = value.sorted(by: sortFunction)</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div></pre></div><p class="css-1mv7wyt">So let’s see how we can use it:</p><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><span class="token plain css-1baulvz">struct Person {</span></div><div class="token-line"><span class="token plain css-1baulvz">    let name: String</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">struct People {</span></div><div class="token-line"><span class="token plain css-1baulvz">    // This empty array will be the wrappedValue in the init.</span></div><div class="token-line"><span class="token plain css-1baulvz">    @Sorted(by: { $0.name &lt; $1.name }) var items: [Person] = [] </span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">var people = People()</span></div><div class="token-line"><span class="token plain css-1baulvz">people.append(Person(name: &quot;John&quot;))</span></div><div class="token-line"><span class="token plain css-1baulvz">people.append(Person(name: &quot;Harry&quot;))</span></div><div class="token-line"><span class="token plain css-1baulvz">people.append(Person(name: &quot;Allan&quot;))</span></div><div class="token-line"><span class="token plain css-1baulvz">print(people.items.map({ $0.name })) // [&quot;Allan&quot;, &quot;Harry&quot;, &quot;John&quot;]</span></div></pre></div><p class="css-1mv7wyt">Not that hard, huh? Another thing I haven’t said in the example is that all the properties that are annotated by a property wrapper need to be <code class="css-1pnz7gf">var</code>. <code class="css-1pnz7gf">let</code> isn’t allowed to be used with property wrappers.</p><h2 id="so-what" class="css-1s5hb9t"><a href="#so-what" class="css-8kmsvv"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>So, what?</h2><p class="css-1mv7wyt">How are property wrappers related to Dependency Injection? They seem to be cool stuff but not related in any way so far. Yes, that can seem to be the case, but we can use property wrappers to inject dependencies from a DI Container.</p><p class="css-1mv7wyt">Let’s see how this could work.</p><p class="css-1mv7wyt">We will start by creating a NameContainer for the dependencies:</p><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><span class="token plain css-1baulvz">// We will create an enum as a namespace</span></div><div class="token-line"><span class="token plain css-1baulvz">enum Dependencies {</span></div><div class="token-line"><span class="token plain css-1baulvz">    // The same pattern that NotificationCenter&#x27;s Name struct</span></div><div class="token-line"><span class="token plain css-1baulvz">    // follows.</span></div><div class="token-line"><span class="token plain css-1baulvz">    struct Name: Equatable {</span></div><div class="token-line"><span class="token plain css-1baulvz">        let rawValue: String</span></div><div class="token-line"><span class="token plain css-1baulvz">        static let `default` = Name(rawValue: &quot;__default__&quot;)</span></div><div class="token-line"><span class="token plain css-1baulvz">        static func == (lhs: Name, rhs: Name) -&gt; Bool { lhs.rawValue == rhs.rawValue }   </span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    // The actual DI Container</span></div><div class="token-line"><span class="token plain css-1baulvz">    final class Container {</span></div><div class="token-line"><span class="token plain css-1baulvz">        // An array with the dependencies and the keys for them.</span></div><div class="token-line"><span class="token plain css-1baulvz">        private var dependencies: [(key: Dependencies.Name, value: Any)] = []</span></div><div class="token-line"><span class="token plain css-1baulvz">        </span></div><div class="token-line"><span class="token plain css-1baulvz">        // To use like a singleton.</span></div><div class="token-line"><span class="token plain css-1baulvz">        static let `default` = Container()</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div></pre></div><p class="css-1mv7wyt">We need two more functions in the container: </p><ul class="css-wf0k3i"><li class="css-ikjsr2"><strong class="css-1vg6q84">register</strong>: Adds a new entry for the dependencies registry. Optionally namespaced.</li><li class="css-ikjsr2"><strong class="css-1vg6q84">resolve</strong>: It will return the needed dependency for the requested type. It can also work for namespaced dependencies.</li></ul><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><span class="token plain css-1baulvz">enum Dependencies {</span></div><div class="token-line"><span class="token plain css-1baulvz">    // ...</span></div><div class="token-line"><span class="token plain css-1baulvz">    final class Container {</span></div><div class="token-line"><span class="token plain css-1baulvz">        // ...</span></div><div class="token-line"><span class="token plain css-1baulvz">        func register(_ dependency: Any, for key: Dependencies.Name = .default) {</span></div><div class="token-line"><span class="token plain css-1baulvz">            dependencies.append((key: key, value: dependency))</span></div><div class="token-line"><span class="token plain css-1baulvz">        }</span></div><div class="token-line"><span class="token plain css-1baulvz">        </span></div><div class="token-line"><span class="token plain css-1baulvz">        func resolve&lt;T&gt;(_ key: Dependencies.Name = .default) -&gt; T {</span></div><div class="token-line"><span class="token plain css-1baulvz">            return (dependencies</span></div><div class="token-line"><span class="token plain css-1baulvz">                .filter { (dependencyTuple) -&gt; Bool in</span></div><div class="token-line"><span class="token plain css-1baulvz">                    return dependencyTuple.key == key</span></div><div class="token-line"><span class="token plain css-1baulvz">                        &amp;&amp; dependencyTuple.value is T</span></div><div class="token-line"><span class="token plain css-1baulvz">                }</span></div><div class="token-line"><span class="token plain css-1baulvz">                .first)?.value as! T</span></div><div class="token-line"><span class="token plain css-1baulvz">        }   </span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">    // ...</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div></pre></div><p class="css-1mv7wyt">Finally we need a property wrapper that can inject a dependency from the container in a property from an unrelated class. This property wrapper needs an optional argument for the dependency key and another optional argument for the DI container (it will default to the <code class="css-1pnz7gf">default</code> singleton container).</p><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><span class="token plain css-1baulvz">enum Dependencies {</span></div><div class="token-line"><span class="token plain css-1baulvz">    // ...</span></div><div class="token-line"><span class="token plain css-1baulvz">    @propertyWrapper</span></div><div class="token-line"><span class="token plain css-1baulvz">    struct Inject&lt;T&gt; {</span></div><div class="token-line"><span class="token plain css-1baulvz">        private let dependencyName: Name</span></div><div class="token-line"><span class="token plain css-1baulvz">        private let container: Container</span></div><div class="token-line"><span class="token plain css-1baulvz">        var wrappedValue: T {</span></div><div class="token-line"><span class="token plain css-1baulvz">            get { container.resolve(dependencyName) }</span></div><div class="token-line"><span class="token plain css-1baulvz">        }</span></div><div class="token-line"><span class="token plain css-1baulvz">        init(_ dependencyName: Name = .default, on container: Container = .default) {</span></div><div class="token-line"><span class="token plain css-1baulvz">            self.dependencyName = dependencyName</span></div><div class="token-line"><span class="token plain css-1baulvz">            self.container = container</span></div><div class="token-line"><span class="token plain css-1baulvz">        }</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div></pre></div><p class="css-1mv7wyt">Simple, right?</p><p class="css-1mv7wyt">Let’s see how we can use this utility:</p><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><span class="token plain css-1baulvz">// We create a protocol for formatting a name</span></div><div class="token-line"><span class="token plain css-1baulvz">protocol NameFormatterType {</span></div><div class="token-line"><span class="token plain css-1baulvz">    func format(name: String) -&gt; String</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">// A concrete implementation adds a prefix &quot;Sir&quot; to the given name.</span></div><div class="token-line"><span class="token plain css-1baulvz">struct SirFormatter: NameFormatterType {</span></div><div class="token-line"><span class="token plain css-1baulvz">    func format(name: String) -&gt; String {</span></div><div class="token-line"><span class="token plain css-1baulvz">        &quot;Sir \(name)&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">// We will register that implementation</span></div><div class="token-line"><span class="token plain css-1baulvz">Dependencies.Container.default.register(SirFormatter())</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">// Apart from that, we have a Person struct.</span></div><div class="token-line"><span class="token plain css-1baulvz">struct Person {</span></div><div class="token-line"><span class="token plain css-1baulvz">    // We INJECT the NameFormatterType dependency using our handy annotation.</span></div><div class="token-line"><span class="token plain css-1baulvz">    @Dependencies.Inject() private var formatter: NameFormatterType</span></div><div class="token-line"><span class="token plain css-1baulvz">    </span></div><div class="token-line"><span class="token plain css-1baulvz">    let name: String</span></div><div class="token-line"><span class="token plain css-1baulvz">    </span></div><div class="token-line"><span class="token plain css-1baulvz">    // And in any part of the struct code we can use the injected dependency</span></div><div class="token-line"><span class="token plain css-1baulvz">    func present() {</span></div><div class="token-line"><span class="token plain css-1baulvz">        print(&quot;Hi, I am \(formatter.format(name: name))&quot;)</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">let fernando = Person(name: &quot;Fernando&quot;)</span></div><div class="token-line"><span class="token plain css-1baulvz">fernando.present() // Will print: &quot;Hi, I am Sir Fernando&quot;</span></div></pre></div><h2 id="conclusion" class="css-1s5hb9t"><a href="#conclusion" class="css-8kmsvv"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2><p class="css-1mv7wyt">Dependency injection is a pattern that you will be using once and once again as a software designer. Normally, using just constructor-based DI will be enough. But having this simple alternative can be handy. Also, you have learnt one thing or two about property wrappers too. </p><p class="css-1mv7wyt">Thank you! </p><h2 id="final-code" class="css-1s5hb9t"><a href="#final-code" class="css-8kmsvv"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Final Code</h2><div class="css-1cd8nnu"><pre class="language-swift prism-code language-swift css-w0h414"><div class="token-line"><span class="token plain css-1baulvz">enum Dependencies {</span></div><div class="token-line"><span class="token plain css-1baulvz">    struct Name: Equatable {</span></div><div class="token-line"><span class="token plain css-1baulvz">        let rawValue: String</span></div><div class="token-line"><span class="token plain css-1baulvz">        static let `default` = Name(rawValue: &quot;__default__&quot;)</span></div><div class="token-line"><span class="token plain css-1baulvz">        static func == (lhs: Name, rhs: Name) -&gt; Bool { lhs.rawValue == rhs.rawValue }</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">    </span></div><div class="token-line"><span class="token plain css-1baulvz">    final class Container {</span></div><div class="token-line"><span class="token plain css-1baulvz">        private var dependencies: [(key: Dependencies.Name, value: Any)] = []</span></div><div class="token-line"><span class="token plain css-1baulvz">        </span></div><div class="token-line"><span class="token plain css-1baulvz">        static let `default` = Container()</span></div><div class="token-line"><span class="token plain css-1baulvz">        </span></div><div class="token-line"><span class="token plain css-1baulvz">        func register(_ dependency: Any, for key: Dependencies.Name = .default) {</span></div><div class="token-line"><span class="token plain css-1baulvz">            dependencies.append((key: key, value: dependency))</span></div><div class="token-line"><span class="token plain css-1baulvz">        }</span></div><div class="token-line"><span class="token plain css-1baulvz">        </span></div><div class="token-line"><span class="token plain css-1baulvz">        func resolve&lt;T&gt;(_ key: Dependencies.Name = .default) -&gt; T {</span></div><div class="token-line"><span class="token plain css-1baulvz">            return (dependencies</span></div><div class="token-line"><span class="token plain css-1baulvz">                .filter { (dependencyTuple) -&gt; Bool in</span></div><div class="token-line"><span class="token plain css-1baulvz">                    return dependencyTuple.key == key</span></div><div class="token-line"><span class="token plain css-1baulvz">                        &amp;&amp; dependencyTuple.value is T</span></div><div class="token-line"><span class="token plain css-1baulvz">                }</span></div><div class="token-line"><span class="token plain css-1baulvz">                .first)?.value as! T</span></div><div class="token-line"><span class="token plain css-1baulvz">        }</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">    </span></div><div class="token-line"><span class="token plain css-1baulvz">    @propertyWrapper</span></div><div class="token-line"><span class="token plain css-1baulvz">    struct Inject&lt;T&gt; {</span></div><div class="token-line"><span class="token plain css-1baulvz">        private let dependencyName: Name</span></div><div class="token-line"><span class="token plain css-1baulvz">        private let container: Container</span></div><div class="token-line"><span class="token plain css-1baulvz">        var wrappedValue: T {</span></div><div class="token-line"><span class="token plain css-1baulvz">            get { container.resolve(dependencyName) }</span></div><div class="token-line"><span class="token plain css-1baulvz">        }</span></div><div class="token-line"><span class="token plain css-1baulvz">        init(_ dependencyName: Name = .default, on container: Container = .default) {</span></div><div class="token-line"><span class="token plain css-1baulvz">            self.dependencyName = dependencyName</span></div><div class="token-line"><span class="token plain css-1baulvz">            self.container = container</span></div><div class="token-line"><span class="token plain css-1baulvz">        }</span></div><div class="token-line"><span class="token plain css-1baulvz">    }</span></div><div class="token-line"><span class="token plain css-1baulvz">}</span></div></pre></div></main><style data-emotion-css="47xi18">.css-47xi18{margin-top:56px;padding-top:28px;}</style><footer class="css-47xi18"><style data-emotion-css="5rlcw3">.css-5rlcw3{padding:0;margin:0;margin-bottom:28px;border:0;border-bottom:1px solid;margin-top:-1px;border-color:var(--theme-ui-colors-muted,hsla(0,0%,0%,0.2));}</style><hr class="css-5rlcw3"/><style data-emotion-css="1r1aq4">.css-1r1aq4{margin-bottom:56px;}</style><style data-emotion-css="ndo0tc">.css-ndo0tc{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:56px;}</style><style data-emotion-css="1ig3dip">.css-1ig3dip{box-sizing:border-box;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:56px;}</style><div class="css-1ig3dip"><style data-emotion-css="11h0jpm">.css-11h0jpm{margin-right:14px;margin-bottom:0;width:48px;border-radius:99999px;}</style><div class="css-11h0jpm gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:48px;height:48px"><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAAFBv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdcagGzUc4YijbuZj//EAB0QAAEEAgMAAAAAAAAAAAAAAAMAAQIEERMSM0H/2gAIAQEAAQUCOXSMFzbNWOoOXMrVnYhmeM2uwx7Nm4L/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAdEAEAAQUAAwAAAAAAAAAAAAABAAIQERIhMVGB/9oACAEBAAY/AtsZmjTqtl9QFpcdsFPgmSdG3y3/xAAcEAEAAgIDAQAAAAAAAAAAAAABACERMRBBUWH/2gAIAQEAAT8hBWugHbCFehwaiDYWVwApvjOKiZvuC68NnvyNoGbMtMXGX2f/2gAMAwEAAgADAAAAEPPHDP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EAB0QAQACAgMBAQAAAAAAAAAAAAEAESExEFFx0bH/2gAIAQEAAT8QXcibZNEtvle8NF1nhrBtTYJf2UVXQzVP7wNx2Y5eQtXNu03l1AD14p+TQcjBEkCbPY3bT//Z" alt="Fernando Martín Ortiz" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/9a0ccb7d7069a782e81542e297171059/88d0e/avatar.jpg 1x,
/static/9a0ccb7d7069a782e81542e297171059/74d54/avatar.jpg 1.5x,
/static/9a0ccb7d7069a782e81542e297171059/6d8f9/avatar.jpg 2x" /><img loading="lazy" width="48" height="48" srcset="/static/9a0ccb7d7069a782e81542e297171059/88d0e/avatar.jpg 1x,
/static/9a0ccb7d7069a782e81542e297171059/74d54/avatar.jpg 1.5x,
/static/9a0ccb7d7069a782e81542e297171059/6d8f9/avatar.jpg 2x" src="/static/9a0ccb7d7069a782e81542e297171059/88d0e/avatar.jpg" alt="Fernando Martín Ortiz" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="css-0"><a href="https://github.com/fmo91" class="css-818hih">Fernando Martín Ortiz</a><br/> Handcrafting Swift code</div></div><style data-emotion-css="11r1i3o">.css-11r1i3o{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;list-style:none;padding:0;}</style><style data-emotion-css="1qfxf3w">.css-1qfxf3w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;list-style:none;padding:0;}</style><ul class="css-1qfxf3w"><li><a rel="prev" class="css-818hih" href="/0001-single-source-of-truth/">← <!-- -->A single source of truth</a></li><li></li></ul></footer></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/0002-dependency-injection-using-property-wrappers/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-b7ee466c45e4212458dc.js"],"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js":["/component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js-7fe7fe412755396ee50a.js"],"component---node-modules-gatsby-theme-blog-core-src-templates-posts-query-js":["/component---node-modules-gatsby-theme-blog-core-src-templates-posts-query-js-409af5664310b7c3d224.js"]};/*]]>*/</script><script src="/component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js-7fe7fe412755396ee50a.js" async=""></script><script src="/commons-25007d52a411329d6f8e.js" async=""></script><script src="/app-b7ee466c45e4212458dc.js" async=""></script><script src="/styles-5f31e81ee0db447b5810.js" async=""></script><script src="/webpack-runtime-7aefa2b13306f23af876.js" async=""></script></body></html>